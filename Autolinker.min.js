/*!
 * Autolinker.js
 * Version 0.2
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Autolinker.js
 */
var Autolinker={htmlRegex:/<\/?(\w+)((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,link:function(g,k){k=k||{};var a=Autolinker.htmlRegex,e=Autolinker.matcherRegex,j=("newWindow" in k)?k.newWindow:true,i,h=0,f,b="";function d(l){l=l.replace(e,function(t,q,p,o,n){var s=q,x=o,v=n,r="",w="",u="";if(window.a){console.log("match: "+t);console.log("$1: "+q);console.log("$2: "+p);console.log("$3: "+o);console.log("$4: "+n)}if(!s){return t}else{var m=[];w=t;u=t;if(v){r=x;w="https://twitter.com/"+v;u="@"+v}else{if(!/^(https?|ftp|mailto):/i.test(w)){if(w.indexOf("@")>-1){w="mailto:"+w}else{w="http://"+w}}}m.push('href="'+w+'"');if(j){m.push('target="_blank"')}return r+"<a "+m.join(" ")+">"+u+"</a>"}});return l}while((i=a.exec(g))!==null){var c=i[1];if(c!=="a"){f=g.substring(h,i.index);h=i.index+i[0].length;b+=d(f)+i[0]}}if(h<g.length){b+=d(g.substring(h))}return b}};Autolinker.matcherRegex=/<a\b[^<>]*>[\s\S]*?<\/a>|(((^|\s)@(\w{1,15}))|(?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:com|org|net|gov|edu|mil|us|info|biz|ws|name|mobi|cc|tv|co\.uk|de|ru|hu|fr|br)))(?:(?:\/[\+~%\/\.\w\-]*)?(?:\?[\-\+=&;%@\.\w]*)?(?:#[\-\.\!\/\\\w%]*)?)?)/g;
